<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Song Shop</title>
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <header class="nav">
    <img src="/media/logo.jpg" alt="Logo" width="50" height="70">
    <div class="brand">ðŸŽµ Song Shop</div>
    <nav>
      <a href="/">Home</a>
      <a href="/genre/pop">Pop</a>
      <a href="/genre/rock">Rock</a>
      <a href="/genre/hip-hop">Hip-Hop</a>
      <a href="/genre/indie">Indie</a>
      <a href="/genre/rnb">R&B</a>
      <a href="/genre/classical">Classical</a>
      <!-- Link to dedicated login page -->
      <a href="/login-page">Login</a>
    </nav>
  </header>

  <section class="hero">
    <div class="hero-content">
      <h1>Discover Your Next Favorite Song</h1>
      <p>Explore curated music from 2020-2025 across multiple genres.</p>
      <a href="/login-page" class="cta-button">Get Started</a>
    </div>
  </section>

  <section class="features">
    <div class="feature-card">
      <h3>Fresh Music Daily</h3>
      <p>New songs from 2020-2025 every time you refresh. Stay current with the latest releases.</p>
    </div>
    <div class="feature-card">
      <h3>Multiple Genres</h3>
      <p>Pop, Rock, Hip-Hop, Indie, R&B, and Classicalâ€”all organized and ready to explore.</p>
    </div>
    <div class="feature-card">
      <h3>Direct Spotify Access</h3>
      <p>Click any song to open it instantly in Spotify. Seamless listening experience.</p>
    </div>
  </section>

      <section class="container">
        <h2>Top 10 Tracks in the US</h2>
    <div id="top10" class="songs-grid"></div>
  </section>
  <script>
    // Check if access token is in URL (from OAuth callback)
    const urlParams = new URLSearchParams(window.location.search);
    const accessToken = urlParams.get('access_token');
    if (accessToken) {
      // Store token in localStorage
      localStorage.setItem('spotify_access_token', accessToken);
      // Clean up URL (remove token from address bar)
      window.history.replaceState({}, document.title, '/');
    }
  </script>
  <script src="/script.js"></script>
  <script src="/spotify-auth.js"></script>
  <script>
    // Load Top 10 on home page
    if (document.getElementById('top10')) {
      loadTopGlobal();
    }
  </script>
</body>
</html>